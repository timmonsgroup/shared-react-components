import { Meta } from '@storybook/addon-docs';

<Meta title="form/Dynamic Form/How to use useDynamicForm" />

# How to use `UseDynamicForm`

`useDynamicForm` is a hook used to generate a set of fields, organized into sections, and manage dynamic interactions between them. These interactions largely come down to
conditional rendering and conditional validations for specific fields based on the value contained in other fields. Creating your form fields with `useDynamicForm` will
also set up your selection fields to populate their options from external sources and manage the necessary asynchronous calls if their `url` property is configured.

`useDynamicForm` will also generate a react-hook-form that it will return to the function caller, as well as a variable that the caller can use to see if the layout for the
dynamic form is still loading or not. Finally, it returns a set of field objects organized into sections that can be used to create a form.

## Function Signature

useDynamicForm(layoutOptions = \{\}, incomingValues = \{\}, urlDomain, setLoading, asyncOptions)

[To be completed]
 - Explain each accepted parameter and how that affects useDynamicForm. Especially layoutOptions

 layoutOptions is expected to have 4 optional keys:

By default, useDynamicForm will try to pull the object for setting up the dynamic form from this url: 
`/api/layout/get?objectType=${type}&layoutKey=${key}`

layoutOptions.type
This sets the object type in the default query.

layoutOptions.key
This sets the layout key in the default query

layoutOptions.url
useDynamicForm will pull the object for setting up the dynamic form from this url instead if this is set.

layoutOptions.layout
useDynamicForm will set up its dynamic form based on this object instead of pulling an object from an url if this is set.